{"ast":null,"code":"var _s = $RefreshSig$();\n\nimport React from \"react\"; // Total page count is less than the page pills we want to show. In such a case we just return the range from 1 to totalPageCount.\n// Total page count is greater than the page pills but only the right DOTS are visible.\n// Total page count is greater than the page pills but only the left DOTS are visible.\n// Total page count is greater than the page pills and both the left and the right DOTS are visible.\n\nconst range = (start, end) => {\n  let length = end - start + 1;\n  /*\r\n        Create an array of certain length and set the elements within it from\r\n      start value to end value.\r\n    */\n\n  return Array.from({\n    length\n  }, (_, idx) => idx + start);\n};\n\nexport const DOTS = null;\nexport function usePagination({\n  totalCount,\n  pageSize,\n  siblingCount = 1,\n  currentPage\n}) {\n  _s();\n\n  const paginationRange = React.useMemo(() => {\n    const totalPageCount = Math.ceil(totalCount / pageSize); // Pages count is determined as siblingCount + firstPage + lastPage + currentPage + 2*DOTS\n\n    const totalPageNumbers = siblingCount + 5;\n    /*\r\n      Case 1:\r\n      If the number of pages is less than the page numbers we want to show in our\r\n      paginationComponent, we return the range [1..totalPageCount]\r\n    */\n\n    if (totalPageNumbers >= totalPageCount) {\n      return range(1, totalPageCount);\n    } // Calculate left and right sibling index and make sure they are within range 1 and totalPageCount\n\n\n    const leftSiblingIndex = Math.max(currentPage - siblingCount, 1);\n    const rightSiblingIndex = Math.min(currentPage + siblingCount, totalPageCount); // We do not show dots just when there is just one page number to be inserted between\n    // the extremes of sibling and the page limits i.e 1 and totalPageCount.\n    // Hence we are using leftSiblingIndex > 2 and rightSiblingIndex < totalPageCount - 2\n\n    const shouldShowLeftDots = leftSiblingIndex > 2;\n    const shouldShowRightDots = rightSiblingIndex < totalPageCount - 2;\n    const firstPageIndex = 1;\n    const lastPageIndex = totalPageCount; // Case 2: No left dots to show, but rights dots to be shown\n\n    if (!shouldShowLeftDots & shouldShowRightDots) {\n      const leftItemCount = 3 + 2 * siblingCount;\n      const leftRange = range(1, leftItemCount);\n      return [...leftRange, DOTS, totalPageCount];\n    } // Case 3: No right dots to show, but left dots to be shown\n\n\n    if (shouldShowLeftDots & !shouldShowRightDots) {\n      const rightItemCount = 3 + 2 * siblingCount;\n      const rightRange = range(totalPageCount - rightItemCount + 1, totalPageCount);\n      return [firstPageIndex, DOTS, ...rightRange];\n    } // Case 4: Both left and right dots to be shown\n\n\n    if (shouldShowLeftDots & shouldShowRightDots) {\n      const middleRange = range(leftSiblingIndex, rightSiblingIndex);\n      return [firstPageIndex, DOTS, ...middleRange, DOTS, lastPageIndex];\n    }\n  }, [totalCount, pageSize, siblingCount, currentPage]);\n  return paginationRange;\n}\n\n_s(usePagination, \"tLviJI6rwkyze3+kNwkFLwjvB48=\");","map":{"version":3,"sources":["D:/Rim/react-app/src/components/hooks/usePagination.js"],"names":["React","range","start","end","length","Array","from","_","idx","DOTS","usePagination","totalCount","pageSize","siblingCount","currentPage","paginationRange","useMemo","totalPageCount","Math","ceil","totalPageNumbers","leftSiblingIndex","max","rightSiblingIndex","min","shouldShowLeftDots","shouldShowRightDots","firstPageIndex","lastPageIndex","leftItemCount","leftRange","rightItemCount","rightRange","middleRange"],"mappings":";;AAAA,OAAOA,KAAP,MAAkB,OAAlB,C,CAEA;AACA;AACA;AACA;;AAEA,MAAMC,KAAK,GAAG,CAACC,KAAD,EAAQC,GAAR,KAAgB;AAC5B,MAAIC,MAAM,GAAGD,GAAG,GAAGD,KAAN,GAAc,CAA3B;AACA;AACF;AACA;AACA;;AACE,SAAOG,KAAK,CAACC,IAAN,CAAW;AAAEF,IAAAA;AAAF,GAAX,EAAuB,CAACG,CAAD,EAAIC,GAAJ,KAAYA,GAAG,GAAGN,KAAzC,CAAP;AACD,CAPD;;AASA,OAAO,MAAMO,IAAI,GAAG,IAAb;AAEP,OAAO,SAASC,aAAT,CAAuB;AAC5BC,EAAAA,UAD4B;AAE5BC,EAAAA,QAF4B;AAG5BC,EAAAA,YAAY,GAAG,CAHa;AAI5BC,EAAAA;AAJ4B,CAAvB,EAKJ;AAAA;;AACD,QAAMC,eAAe,GAAGf,KAAK,CAACgB,OAAN,CAAc,MAAM;AAC1C,UAAMC,cAAc,GAAGC,IAAI,CAACC,IAAL,CAAUR,UAAU,GAAGC,QAAvB,CAAvB,CAD0C,CAE1C;;AACA,UAAMQ,gBAAgB,GAAGP,YAAY,GAAG,CAAxC;AACA;AACJ;AACA;AACA;AACA;;AACI,QAAIO,gBAAgB,IAAIH,cAAxB,EAAwC;AACtC,aAAOhB,KAAK,CAAC,CAAD,EAAIgB,cAAJ,CAAZ;AACD,KAXyC,CAY1C;;;AACA,UAAMI,gBAAgB,GAAGH,IAAI,CAACI,GAAL,CAASR,WAAW,GAAGD,YAAvB,EAAqC,CAArC,CAAzB;AACA,UAAMU,iBAAiB,GAAGL,IAAI,CAACM,GAAL,CACxBV,WAAW,GAAGD,YADU,EAExBI,cAFwB,CAA1B,CAd0C,CAmB1C;AACA;AACA;;AACA,UAAMQ,kBAAkB,GAAGJ,gBAAgB,GAAG,CAA9C;AACA,UAAMK,mBAAmB,GAAGH,iBAAiB,GAAGN,cAAc,GAAG,CAAjE;AAEA,UAAMU,cAAc,GAAG,CAAvB;AACA,UAAMC,aAAa,GAAGX,cAAtB,CA1B0C,CA4B1C;;AACA,QAAI,CAACQ,kBAAD,GAAsBC,mBAA1B,EAA+C;AAC7C,YAAMG,aAAa,GAAG,IAAI,IAAIhB,YAA9B;AACA,YAAMiB,SAAS,GAAG7B,KAAK,CAAC,CAAD,EAAI4B,aAAJ,CAAvB;AACA,aAAO,CAAC,GAAGC,SAAJ,EAAerB,IAAf,EAAqBQ,cAArB,CAAP;AACD,KAjCyC,CAmC1C;;;AACA,QAAIQ,kBAAkB,GAAG,CAACC,mBAA1B,EAA+C;AAC7C,YAAMK,cAAc,GAAG,IAAI,IAAIlB,YAA/B;AACA,YAAMmB,UAAU,GAAG/B,KAAK,CACtBgB,cAAc,GAAGc,cAAjB,GAAkC,CADZ,EAEtBd,cAFsB,CAAxB;AAIA,aAAO,CAACU,cAAD,EAAiBlB,IAAjB,EAAuB,GAAGuB,UAA1B,CAAP;AACD,KA3CyC,CA6C1C;;;AACA,QAAIP,kBAAkB,GAAGC,mBAAzB,EAA8C;AAC5C,YAAMO,WAAW,GAAGhC,KAAK,CAACoB,gBAAD,EAAmBE,iBAAnB,CAAzB;AACA,aAAO,CAACI,cAAD,EAAiBlB,IAAjB,EAAuB,GAAGwB,WAA1B,EAAuCxB,IAAvC,EAA6CmB,aAA7C,CAAP;AACD;AACF,GAlDuB,EAkDrB,CAACjB,UAAD,EAAaC,QAAb,EAAuBC,YAAvB,EAAqCC,WAArC,CAlDqB,CAAxB;AAmDA,SAAOC,eAAP;AACD;;GA1DeL,a","sourcesContent":["import React from \"react\";\r\n\r\n// Total page count is less than the page pills we want to show. In such a case we just return the range from 1 to totalPageCount.\r\n// Total page count is greater than the page pills but only the right DOTS are visible.\r\n// Total page count is greater than the page pills but only the left DOTS are visible.\r\n// Total page count is greater than the page pills and both the left and the right DOTS are visible.\r\n\r\nconst range = (start, end) => {\r\n  let length = end - start + 1;\r\n  /*\r\n        Create an array of certain length and set the elements within it from\r\n      start value to end value.\r\n    */\r\n  return Array.from({ length }, (_, idx) => idx + start);\r\n};\r\n\r\nexport const DOTS = null;\r\n\r\nexport function usePagination({\r\n  totalCount,\r\n  pageSize,\r\n  siblingCount = 1,\r\n  currentPage,\r\n}) {\r\n  const paginationRange = React.useMemo(() => {\r\n    const totalPageCount = Math.ceil(totalCount / pageSize);\r\n    // Pages count is determined as siblingCount + firstPage + lastPage + currentPage + 2*DOTS\r\n    const totalPageNumbers = siblingCount + 5;\r\n    /*\r\n      Case 1:\r\n      If the number of pages is less than the page numbers we want to show in our\r\n      paginationComponent, we return the range [1..totalPageCount]\r\n    */\r\n    if (totalPageNumbers >= totalPageCount) {\r\n      return range(1, totalPageCount);\r\n    }\r\n    // Calculate left and right sibling index and make sure they are within range 1 and totalPageCount\r\n    const leftSiblingIndex = Math.max(currentPage - siblingCount, 1);\r\n    const rightSiblingIndex = Math.min(\r\n      currentPage + siblingCount,\r\n      totalPageCount\r\n    );\r\n\r\n    // We do not show dots just when there is just one page number to be inserted between\r\n    // the extremes of sibling and the page limits i.e 1 and totalPageCount.\r\n    // Hence we are using leftSiblingIndex > 2 and rightSiblingIndex < totalPageCount - 2\r\n    const shouldShowLeftDots = leftSiblingIndex > 2;\r\n    const shouldShowRightDots = rightSiblingIndex < totalPageCount - 2;\r\n\r\n    const firstPageIndex = 1;\r\n    const lastPageIndex = totalPageCount;\r\n\r\n    // Case 2: No left dots to show, but rights dots to be shown\r\n    if (!shouldShowLeftDots & shouldShowRightDots) {\r\n      const leftItemCount = 3 + 2 * siblingCount;\r\n      const leftRange = range(1, leftItemCount);\r\n      return [...leftRange, DOTS, totalPageCount];\r\n    }\r\n\r\n    // Case 3: No right dots to show, but left dots to be shown\r\n    if (shouldShowLeftDots & !shouldShowRightDots) {\r\n      const rightItemCount = 3 + 2 * siblingCount;\r\n      const rightRange = range(\r\n        totalPageCount - rightItemCount + 1,\r\n        totalPageCount\r\n      );\r\n      return [firstPageIndex, DOTS, ...rightRange];\r\n    }\r\n\r\n    // Case 4: Both left and right dots to be shown\r\n    if (shouldShowLeftDots & shouldShowRightDots) {\r\n      const middleRange = range(leftSiblingIndex, rightSiblingIndex);\r\n      return [firstPageIndex, DOTS, ...middleRange, DOTS, lastPageIndex];\r\n    }\r\n  }, [totalCount, pageSize, siblingCount, currentPage]);\r\n  return paginationRange;\r\n}\r\n"]},"metadata":{},"sourceType":"module"}