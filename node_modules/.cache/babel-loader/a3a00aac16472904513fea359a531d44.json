{"ast":null,"code":"var _jsxFileName = \"D:\\\\Rim\\\\react-app\\\\src\\\\components\\\\Home\\\\index.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect } from \"react\";\nimport { Button, Alert, Card } from \"react-bootstrap\";\nimport { auth } from \"../../firebase/config\";\nimport { useAuth } from \"../../contexts/AuthContext\";\nimport { useHistory, Link } from \"react-router-dom\";\nimport { collection, onSnapshot, doc, getDoc, query, where, getDocs, orderBy } from \"firebase/firestore\";\nimport { db } from \"../../firebase/config\";\nimport useFirestore from \"../hooks/useFirestore\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport const Home = () => {\n  _s();\n\n  const {\n    logout,\n    user\n  } = useAuth();\n  const [error, setError] = useState(\"\");\n  const history = useHistory();\n\n  const handleLogOut = async () => {\n    setError(\"\");\n\n    try {\n      await logout(auth);\n      history.push(\"/login\");\n    } catch (error) {\n      setError(error.message);\n    }\n  };\n\n  const users = useFirestore(\"users\", {\n    fieldName: \"displayName\",\n    operator: \"==\",\n    compareValue: \"Le Khanh\"\n  });\n  console.log(users);\n  useEffect(() => {\n    const q = query(collection(db, \"users\"), where(\"displayName\", \"==\", \"Le Khanh\"), orderBy(\"createdAt\"));\n    const unsub = onSnapshot(q, snapshot => {\n      const data = snapshot.docs.map(doc => ({ ...doc.data(),\n        id: doc.id\n      }));\n      console.log(\"Data: \", data);\n    });\n    const q2 = query(collection(db, \"cities\"), where(\"capital\", \"==\", true), orderBy(\"population\"));\n    const unsub4 = onSnapshot(q2, querySnapshot => {\n      const cities = [];\n      querySnapshot.forEach(doc => {\n        cities.push(doc.data().name);\n      });\n      console.log(\"Current cities in CA: \", cities.join(\", \"));\n    });\n    return unsub;\n  }, []); // useEffect(() => {\n  //   //Listen to multiple documents in a collection\n  //   const q1 = query(collection(db, \"users\"), orderBy(\"createdAt\"));\n  //   const unsub1 = onSnapshot(q1, (snapshot) => {\n  //     const data = snapshot.docs.map((doc) => ({\n  //       ...doc.data(),\n  //       id: doc.id,\n  //     }));\n  //     console.log(\"Current Data: \", data);\n  //   });\n  //   return unsub1;\n  // const getDocument = async () => {\n  //   //Get a document\n  //   const docRef = doc(db, \"cities\", \"SF\");\n  //   const docSnap = await getDoc(docRef);\n  //   if (docSnap.exists()) {\n  //     console.log(\"Get a Document data:\", docSnap.data());\n  //   } else {\n  //     // doc.data() will be undefined in this case\n  //     console.log(\"No such document!\");\n  //   }\n  //   //Get all documents ( omitted where)\n  //   const q2 = query(collection(db, \"cities\"), where(\"capital\", \"==\", true));\n  //   const querySnapshot = await getDocs(q2);\n  //   querySnapshot.forEach((doc) => {\n  //     console.log(\"Get all document data\", doc.id, \"=>\", doc.data());\n  //   });\n  // };\n  // getDocument();\n  // //Listen to a document\n  // const q3 = query(doc(db, \"cities\", \"BJ\"));\n  // const unsub3 = onSnapshot(q3, (doc) =>\n  //   console.log(\"Data of document BJ\", {\n  //     ...doc.data(),\n  //     id: doc.id,\n  //   })\n  // );\n  // //Listen to all documents\n  // const q4 = query(collection(db, \"cities\"), where(\"state\", \"==\", \"CA\"));\n  // const unsub4 = onSnapshot(q4, (querySnapshot) => {\n  //   const cities = [];\n  //   querySnapshot.forEach((doc) => {\n  //     cities.push(doc.data().name);\n  //   });\n  //   console.log(\"Current cities in CA: \", cities.join(\", \"));\n  // });\n  // return (unsub1, unsub3, unsub4) ;\n  // }, []);\n\n  return /*#__PURE__*/_jsxDEV(Card, {\n    className: \"d-flex flex-row justify-content-center align-items-center\",\n    children: /*#__PURE__*/_jsxDEV(Card.Body, {\n      style: {\n        maxWidth: \"400px\"\n      },\n      children: [/*#__PURE__*/_jsxDEV(Card.Header, {\n        as: \"h1\",\n        className: \"mb-4\",\n        children: \"Profile\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 133,\n        columnNumber: 9\n      }, this), error && /*#__PURE__*/_jsxDEV(Alert, {\n        variant: \"danger\",\n        children: error\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 137,\n        columnNumber: 19\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"text-center mb-3\",\n        children: /*#__PURE__*/_jsxDEV(Card.Img, {\n          variant: \"top\",\n          src: user.photoURL,\n          alt: \"Avatar\",\n          style: {\n            width: \"100px\",\n            height: \"100px\",\n            borderRadius: \"50%\"\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 140,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 139,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Card.Text, {\n        className: \"text-center\",\n        children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n          children: \"Email:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 153,\n          columnNumber: 11\n        }, this), \" \", user.email]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 152,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Card.Text, {\n        className: \"text-center\",\n        children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n          children: \"Name:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 157,\n          columnNumber: 11\n        }, this), \" \", user.displayName]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 156,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"text-center mb-3\",\n        children: /*#__PURE__*/_jsxDEV(Button, {\n          children: /*#__PURE__*/_jsxDEV(Link, {\n            to: \"/update-profile\",\n            className: \"text-white list-style-none\",\n            children: \"Update Profile\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 162,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 161,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 160,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"text-center w-100 mb-3\",\n        children: /*#__PURE__*/_jsxDEV(Button, {\n          onClick: handleLogOut,\n          children: \"Log Out\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 169,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 168,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 132,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 131,\n    columnNumber: 5\n  }, this);\n};\n\n_s(Home, \"lUerfjMkW+bkAivj17/C+8JNBBw=\", false, function () {\n  return [useAuth, useHistory, useFirestore];\n});\n\n_c = Home;\nexport default Home;\n\nvar _c;\n\n$RefreshReg$(_c, \"Home\");","map":{"version":3,"sources":["D:/Rim/react-app/src/components/Home/index.js"],"names":["React","useState","useEffect","Button","Alert","Card","auth","useAuth","useHistory","Link","collection","onSnapshot","doc","getDoc","query","where","getDocs","orderBy","db","useFirestore","Home","logout","user","error","setError","history","handleLogOut","push","message","users","fieldName","operator","compareValue","console","log","q","unsub","snapshot","data","docs","map","id","q2","unsub4","querySnapshot","cities","forEach","name","join","maxWidth","photoURL","width","height","borderRadius","email","displayName"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from \"react\";\r\nimport { Button, Alert, Card } from \"react-bootstrap\";\r\nimport { auth } from \"../../firebase/config\";\r\nimport { useAuth } from \"../../contexts/AuthContext\";\r\nimport { useHistory, Link } from \"react-router-dom\";\r\nimport {\r\n  collection,\r\n  onSnapshot,\r\n  doc,\r\n  getDoc,\r\n  query,\r\n  where,\r\n  getDocs,\r\n  orderBy,\r\n} from \"firebase/firestore\";\r\nimport { db } from \"../../firebase/config\";\r\nimport useFirestore from \"../hooks/useFirestore\";\r\n\r\nexport const Home = () => {\r\n  const { logout, user } = useAuth();\r\n  const [error, setError] = useState(\"\");\r\n  const history = useHistory();\r\n\r\n  const handleLogOut = async () => {\r\n    setError(\"\");\r\n\r\n    try {\r\n      await logout(auth);\r\n      history.push(\"/login\");\r\n    } catch (error) {\r\n      setError(error.message);\r\n    }\r\n  };\r\n\r\n  const users = useFirestore(\"users\", {\r\n    fieldName: \"displayName\",\r\n    operator: \"==\",\r\n    compareValue: \"Le Khanh\",\r\n  });\r\n  console.log(users);\r\n\r\n  useEffect(() => {\r\n    const q = query(\r\n      collection(db, \"users\"),\r\n      where(\"displayName\", \"==\", \"Le Khanh\"),\r\n      orderBy(\"createdAt\")\r\n    );\r\n    const unsub = onSnapshot(q, (snapshot) => {\r\n      const data = snapshot.docs.map((doc) => ({\r\n        ...doc.data(),\r\n        id: doc.id,\r\n      }));\r\n      console.log(\"Data: \", data);\r\n    });\r\n\r\n    const q2 = query(\r\n      collection(db, \"cities\"),\r\n      where(\"capital\", \"==\", true),\r\n      orderBy(\"population\")\r\n    );\r\n\r\n    const unsub4 = onSnapshot(q2, (querySnapshot) => {\r\n      const cities = [];\r\n      querySnapshot.forEach((doc) => {\r\n        cities.push(doc.data().name);\r\n      });\r\n      console.log(\"Current cities in CA: \", cities.join(\", \"));\r\n    });\r\n    return unsub;\r\n  }, []);\r\n\r\n  // useEffect(() => {\r\n  //   //Listen to multiple documents in a collection\r\n  //   const q1 = query(collection(db, \"users\"), orderBy(\"createdAt\"));\r\n\r\n  //   const unsub1 = onSnapshot(q1, (snapshot) => {\r\n  //     const data = snapshot.docs.map((doc) => ({\r\n  //       ...doc.data(),\r\n  //       id: doc.id,\r\n  //     }));\r\n  //     console.log(\"Current Data: \", data);\r\n  //   });\r\n\r\n  //   return unsub1;\r\n\r\n  // const getDocument = async () => {\r\n  //   //Get a document\r\n  //   const docRef = doc(db, \"cities\", \"SF\");\r\n  //   const docSnap = await getDoc(docRef);\r\n\r\n  //   if (docSnap.exists()) {\r\n  //     console.log(\"Get a Document data:\", docSnap.data());\r\n  //   } else {\r\n  //     // doc.data() will be undefined in this case\r\n  //     console.log(\"No such document!\");\r\n  //   }\r\n\r\n  //   //Get all documents ( omitted where)\r\n  //   const q2 = query(collection(db, \"cities\"), where(\"capital\", \"==\", true));\r\n  //   const querySnapshot = await getDocs(q2);\r\n  //   querySnapshot.forEach((doc) => {\r\n  //     console.log(\"Get all document data\", doc.id, \"=>\", doc.data());\r\n  //   });\r\n  // };\r\n\r\n  // getDocument();\r\n\r\n  // //Listen to a document\r\n  // const q3 = query(doc(db, \"cities\", \"BJ\"));\r\n  // const unsub3 = onSnapshot(q3, (doc) =>\r\n  //   console.log(\"Data of document BJ\", {\r\n  //     ...doc.data(),\r\n  //     id: doc.id,\r\n  //   })\r\n  // );\r\n\r\n  // //Listen to all documents\r\n  // const q4 = query(collection(db, \"cities\"), where(\"state\", \"==\", \"CA\"));\r\n  // const unsub4 = onSnapshot(q4, (querySnapshot) => {\r\n  //   const cities = [];\r\n  //   querySnapshot.forEach((doc) => {\r\n  //     cities.push(doc.data().name);\r\n  //   });\r\n  //   console.log(\"Current cities in CA: \", cities.join(\", \"));\r\n  // });\r\n\r\n  // return (unsub1, unsub3, unsub4) ;\r\n  // }, []);\r\n\r\n  return (\r\n    <Card className=\"d-flex flex-row justify-content-center align-items-center\">\r\n      <Card.Body style={{ maxWidth: \"400px\" }}>\r\n        <Card.Header as=\"h1\" className=\"mb-4\">\r\n          Profile\r\n        </Card.Header>\r\n\r\n        {error && <Alert variant=\"danger\">{error}</Alert>}\r\n\r\n        <div className=\"text-center mb-3\">\r\n          <Card.Img\r\n            variant=\"top\"\r\n            src={user.photoURL}\r\n            alt=\"Avatar\"\r\n            style={{\r\n              width: \"100px\",\r\n              height: \"100px\",\r\n              borderRadius: \"50%\",\r\n            }}\r\n          ></Card.Img>\r\n        </div>\r\n\r\n        <Card.Text className=\"text-center\">\r\n          <strong>Email:</strong> {user.email}\r\n        </Card.Text>\r\n\r\n        <Card.Text className=\"text-center\">\r\n          <strong>Name:</strong> {user.displayName}\r\n        </Card.Text>\r\n\r\n        <div className=\"text-center mb-3\">\r\n          <Button>\r\n            <Link to=\"/update-profile\" className=\"text-white list-style-none\">\r\n              Update Profile\r\n            </Link>\r\n          </Button>\r\n        </div>\r\n\r\n        <div className=\"text-center w-100 mb-3\">\r\n          <Button onClick={handleLogOut}>Log Out</Button>\r\n        </div>\r\n      </Card.Body>\r\n    </Card>\r\n  );\r\n};\r\n\r\nexport default Home;\r\n"]},"metadata":{},"sourceType":"module"}