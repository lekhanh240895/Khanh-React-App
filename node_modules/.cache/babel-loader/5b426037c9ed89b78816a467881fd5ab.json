{"ast":null,"code":"var _jsxFileName = \"D:\\\\Rim\\\\react-app\\\\src\\\\App.js\",\n    _s = $RefreshSig$(),\n    _s2 = $RefreshSig$(),\n    _s3 = $RefreshSig$();\n\nimport axios from \"axios\";\nimport { Fragment, useCallback, useReducer } from \"react\";\nimport { useEffect, useState, useRef } from \"react\";\nimport \"./App.css\";\nimport TodoApp from \"./TodoApp\"; //Custom Hook\n\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport const usePersistentState = (key, initialState) => {\n  _s();\n\n  const [value, setValue] = useState(localStorage.getItem(key) || initialState);\n  useEffect(() => {\n    localStorage.setItem(key, value);\n  }, [key, value]);\n  return [value, setValue];\n}; //Reducer\n//Stories reducer\n\n_s(usePersistentState, \"16clVEaJ+Xr2ZDVF6trV8RJdLe4=\");\n\nconst storiesReducer = (state, action) => {\n  switch (action.type) {\n    case \"STORIES_FETCH_INIT\":\n      return { ...state,\n        isLoading: true,\n        isError: false\n      };\n\n    case \"STORIES_FETCH_SUCCESS\":\n      return { ...state,\n        isLoading: false,\n        isError: false,\n        data: action.payload\n      };\n\n    case \"STORIES_FETCH_FAILURE\":\n      return { ...state,\n        isLoading: false,\n        isError: true\n      };\n\n    case \"REMOVE_STORY\":\n      return { ...state,\n        data: state.data.filter(story => story.objectID !== action.payload.objectID)\n      };\n\n    default:\n      throw new Error();\n  }\n};\n\nconst App = () => {\n  _s2();\n\n  const [stories, dispatchStories] = useReducer(storiesReducer, {\n    data: [],\n    isLoading: false,\n    isError: false\n  });\n  const [searchTerm, setSearchTerm] = usePersistentState(\"search\", \"React\");\n  const API_ENDPOINT = \"https://hn.algolia.com/api/v1/search?query=\";\n  const [url, setUrl] = useState(`${API_ENDPOINT}${searchTerm}`);\n  const handleFetchStories = useCallback(async () => {\n    dispatchStories({\n      type: \"STORIES_FETCH_INIT\"\n    });\n\n    try {\n      const respone = await axios.get(url);\n      dispatchStories({\n        type: \"STORIES_FETCH_SUCCESS\",\n        payload: respone.data.hits\n      });\n    } catch {\n      dispatchStories({\n        type: \"STORIES_FETCH_FAILURE\"\n      });\n    }\n  }, [url]);\n  useEffect(() => {\n    handleFetchStories();\n  }, [handleFetchStories]);\n\n  const handleRemoveStory = item => {\n    dispatchStories({\n      type: \"REMOVE_STORY\",\n      payload: item\n    });\n  };\n\n  const handleSearchInput = e => {\n    setSearchTerm(e.target.value);\n  };\n\n  const handleSearchSubmit = e => {\n    setUrl(`${API_ENDPOINT}${searchTerm}`);\n    e.preventDefault();\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"container \",\n    children: [/*#__PURE__*/_jsxDEV(TodoApp, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 104,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"h1\", {\n      className: \"headline-primary\",\n      children: \"My Hacker Stories\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 106,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(SearchForm, {\n      searchTerm: searchTerm,\n      onSearchSubmit: handleSearchSubmit,\n      onSearchInput: handleSearchInput\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 108,\n      columnNumber: 7\n    }, this), stories.isError && /*#__PURE__*/_jsxDEV(\"p\", {\n      children: /*#__PURE__*/_jsxDEV(\"strong\", {\n        children: \"Oops! Something went wrong...\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 116,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 115,\n      columnNumber: 9\n    }, this), stories.isLoading ? /*#__PURE__*/_jsxDEV(\"p\", {\n      children: /*#__PURE__*/_jsxDEV(\"strong\", {\n        children: \"Loading...\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 122,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 121,\n      columnNumber: 9\n    }, this) : /*#__PURE__*/_jsxDEV(List, {\n      list: stories.data,\n      onRemoveItem: handleRemoveStory\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 125,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 103,\n    columnNumber: 5\n  }, this);\n};\n\n_s2(App, \"SsnfJ39rovM24I+eo58tYTss5Is=\", false, function () {\n  return [usePersistentState];\n});\n\n_c = App;\nexport default App;\n\nconst SearchForm = ({\n  onSearchSubmit,\n  onSearchInput,\n  searchTerm\n}) => /*#__PURE__*/_jsxDEV(\"form\", {\n  onSubmit: onSearchSubmit,\n  className: \"search-form\",\n  children: [/*#__PURE__*/_jsxDEV(InputWithLabel, {\n    onInputChange: onSearchInput,\n    value: searchTerm,\n    id: \"search\",\n    label: \"Search\",\n    isFocused: true,\n    children: /*#__PURE__*/_jsxDEV(\"strong\", {\n      children: \"Search for:\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 142,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 135,\n    columnNumber: 5\n  }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n    className: \"button button_large\",\n    type: \"submit\",\n    disabled: !searchTerm,\n    children: \"Search\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 144,\n    columnNumber: 5\n  }, this)]\n}, void 0, true, {\n  fileName: _jsxFileName,\n  lineNumber: 134,\n  columnNumber: 3\n}, this);\n\n_c2 = SearchForm;\nexport const InputWithLabel = ({\n  isFocused,\n  children,\n  type = \"text\",\n  id,\n  value,\n  onInputChange,\n  checked\n}) => {\n  _s3();\n\n  const inputRef = useRef(null);\n  useEffect(() => {\n    if (isFocused && inputRef.current) {\n      inputRef.current.focus();\n    }\n  });\n  return /*#__PURE__*/_jsxDEV(Fragment, {\n    children: /*#__PURE__*/_jsxDEV(\"label\", {\n      htmlFor: id,\n      className: \"label\",\n      children: [children, \"\\xA0\", /*#__PURE__*/_jsxDEV(\"input\", {\n        id: id,\n        type: type,\n        value: value,\n        onChange: onInputChange,\n        ref: inputRef,\n        checked: checked,\n        classname: \"input\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 171,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 168,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 167,\n    columnNumber: 5\n  }, this);\n};\n\n_s3(InputWithLabel, \"cBQ6FQ+sf5H+lvNONLKqtm4aeQ8=\");\n\n_c3 = InputWithLabel;\n\nconst List = ({\n  list,\n  onRemoveItem\n}) => /*#__PURE__*/_jsxDEV(\"ul\", {\n  children: list.map(item => /*#__PURE__*/_jsxDEV(Item, {\n    item: item,\n    onRemoveItem: onRemoveItem\n  }, item.objectID, false, {\n    fileName: _jsxFileName,\n    lineNumber: 188,\n    columnNumber: 7\n  }, this))\n}, void 0, false, {\n  fileName: _jsxFileName,\n  lineNumber: 186,\n  columnNumber: 3\n}, this);\n\n_c4 = List;\n\nconst Item = ({\n  item,\n  onRemoveItem\n}) => {\n  return /*#__PURE__*/_jsxDEV(\"li\", {\n    className: \"item\",\n    children: [/*#__PURE__*/_jsxDEV(\"span\", {\n      style: {\n        width: \"40%\"\n      },\n      children: /*#__PURE__*/_jsxDEV(\"a\", {\n        href: item.url,\n        children: [item.title, \": \"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 197,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 196,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n      style: {\n        width: \"30%\"\n      },\n      children: [item.author, \" \"]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 199,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n      style: {\n        width: \"10%\"\n      },\n      children: /*#__PURE__*/_jsxDEV(\"p\", {\n        children: [\"Comments: \", item.num_comments]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 201,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 200,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n      style: {\n        width: \"10%\"\n      },\n      children: /*#__PURE__*/_jsxDEV(\"p\", {\n        children: [\"Points: \", item.points]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 204,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 203,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n      style: {\n        width: \"10%\"\n      },\n      children: /*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"button button_small\",\n        type: \"button\",\n        onClick: () => onRemoveItem(item),\n        children: \"Dismiss\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 208,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 207,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 195,\n    columnNumber: 5\n  }, this);\n};\n\n_c5 = Item;\n\nvar _c, _c2, _c3, _c4, _c5;\n\n$RefreshReg$(_c, \"App\");\n$RefreshReg$(_c2, \"SearchForm\");\n$RefreshReg$(_c3, \"InputWithLabel\");\n$RefreshReg$(_c4, \"List\");\n$RefreshReg$(_c5, \"Item\");","map":{"version":3,"sources":["D:/Rim/react-app/src/App.js"],"names":["axios","Fragment","useCallback","useReducer","useEffect","useState","useRef","TodoApp","usePersistentState","key","initialState","value","setValue","localStorage","getItem","setItem","storiesReducer","state","action","type","isLoading","isError","data","payload","filter","story","objectID","Error","App","stories","dispatchStories","searchTerm","setSearchTerm","API_ENDPOINT","url","setUrl","handleFetchStories","respone","get","hits","handleRemoveStory","item","handleSearchInput","e","target","handleSearchSubmit","preventDefault","SearchForm","onSearchSubmit","onSearchInput","InputWithLabel","isFocused","children","id","onInputChange","checked","inputRef","current","focus","List","list","onRemoveItem","map","Item","width","title","author","num_comments","points"],"mappings":"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","sourcesContent":["import axios from \"axios\";\nimport { Fragment, useCallback, useReducer } from \"react\";\nimport { useEffect, useState, useRef } from \"react\";\nimport \"./App.css\";\nimport TodoApp from \"./TodoApp\";\n\n//Custom Hook\nexport const usePersistentState = (key, initialState) => {\n  const [value, setValue] = useState(localStorage.getItem(key) || initialState);\n\n  useEffect(() => {\n    localStorage.setItem(key, value);\n  }, [key, value]);\n\n  return [value, setValue];\n};\n\n//Reducer\n//Stories reducer\nconst storiesReducer = (state, action) => {\n  switch (action.type) {\n    case \"STORIES_FETCH_INIT\":\n      return {\n        ...state,\n        isLoading: true,\n        isError: false,\n      };\n    case \"STORIES_FETCH_SUCCESS\":\n      return {\n        ...state,\n        isLoading: false,\n        isError: false,\n        data: action.payload,\n      };\n    case \"STORIES_FETCH_FAILURE\":\n      return {\n        ...state,\n        isLoading: false,\n        isError: true,\n      };\n    case \"REMOVE_STORY\":\n      return {\n        ...state,\n        data: state.data.filter(\n          (story) => story.objectID !== action.payload.objectID\n        ),\n      };\n    default:\n      throw new Error();\n  }\n};\n\nconst App = () => {\n  const [stories, dispatchStories] = useReducer(storiesReducer, {\n    data: [],\n    isLoading: false,\n    isError: false,\n  });\n\n  const [searchTerm, setSearchTerm] = usePersistentState(\"search\", \"React\");\n  const API_ENDPOINT = \"https://hn.algolia.com/api/v1/search?query=\";\n  const [url, setUrl] = useState(`${API_ENDPOINT}${searchTerm}`);\n\n  const handleFetchStories = useCallback(async () => {\n    dispatchStories({\n      type: \"STORIES_FETCH_INIT\",\n    });\n\n    try {\n      const respone = await axios.get(url);\n      dispatchStories({\n        type: \"STORIES_FETCH_SUCCESS\",\n        payload: respone.data.hits,\n      });\n    } catch {\n      dispatchStories({\n        type: \"STORIES_FETCH_FAILURE\",\n      });\n    }\n  }, [url]);\n\n  useEffect(() => {\n    handleFetchStories();\n  }, [handleFetchStories]);\n\n  const handleRemoveStory = (item) => {\n    dispatchStories({\n      type: \"REMOVE_STORY\",\n      payload: item,\n    });\n  };\n\n  const handleSearchInput = (e) => {\n    setSearchTerm(e.target.value);\n  };\n\n  const handleSearchSubmit = (e) => {\n    setUrl(`${API_ENDPOINT}${searchTerm}`);\n    e.preventDefault();\n  };\n\n  return (\n    <div className=\"container \">\n      <TodoApp />\n\n      <h1 className=\"headline-primary\">My Hacker Stories</h1>\n\n      <SearchForm\n        searchTerm={searchTerm}\n        onSearchSubmit={handleSearchSubmit}\n        onSearchInput={handleSearchInput}\n      />\n\n      {stories.isError && (\n        <p>\n          <strong>Oops! Something went wrong...</strong>\n        </p>\n      )}\n\n      {stories.isLoading ? (\n        <p>\n          <strong>Loading...</strong>\n        </p>\n      ) : (\n        <List list={stories.data} onRemoveItem={handleRemoveStory} />\n      )}\n    </div>\n  );\n};\n\nexport default App;\n\nconst SearchForm = ({ onSearchSubmit, onSearchInput, searchTerm }) => (\n  <form onSubmit={onSearchSubmit} className=\"search-form\">\n    <InputWithLabel\n      onInputChange={onSearchInput}\n      value={searchTerm}\n      id=\"search\"\n      label=\"Search\"\n      isFocused={true}\n    >\n      <strong>Search for:</strong>\n    </InputWithLabel>\n    <button className=\"button button_large\" type=\"submit\" disabled={!searchTerm}>\n      Search\n    </button>\n  </form>\n);\n\nexport const InputWithLabel = ({\n  isFocused,\n  children,\n  type = \"text\",\n  id,\n  value,\n  onInputChange,\n  checked,\n}) => {\n  const inputRef = useRef(null);\n  useEffect(() => {\n    if (isFocused && inputRef.current) {\n      inputRef.current.focus();\n    }\n  });\n\n  return (\n    <Fragment>\n      <label htmlFor={id} className=\"label\">\n        {children}\n        &nbsp;\n        <input\n          id={id}\n          type={type}\n          value={value}\n          onChange={onInputChange}\n          ref={inputRef}\n          checked={checked}\n          classname=\"input\"\n        />\n      </label>\n    </Fragment>\n  );\n};\n\nconst List = ({ list, onRemoveItem }) => (\n  <ul>\n    {list.map((item) => (\n      <Item key={item.objectID} item={item} onRemoveItem={onRemoveItem} />\n    ))}\n  </ul>\n);\n\nconst Item = ({ item, onRemoveItem }) => {\n  return (\n    <li className=\"item\">\n      <span style={{ width: \"40%\" }}>\n        <a href={item.url}>{item.title}: </a>\n      </span>\n      <span style={{ width: \"30%\" }}>{item.author} </span>\n      <span style={{ width: \"10%\" }}>\n        <p>Comments: {item.num_comments}</p>\n      </span>\n      <span style={{ width: \"10%\" }}>\n        <p>Points: {item.points}</p>\n      </span>\n\n      <span style={{ width: \"10%\" }}>\n        <button\n          className=\"button button_small\"\n          type=\"button\"\n          onClick={() => onRemoveItem(item)}\n        >\n          Dismiss\n        </button>\n      </span>\n    </li>\n  );\n};\n"]},"metadata":{},"sourceType":"module"}